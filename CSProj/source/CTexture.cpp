/***********************************************************************/
/*! @file  CTexture.cpp
 *  @brief
 *  
 *  @author 
 *  @date 
 */
/***********************************************************************/
/***********************************************************************/
//	ファイル名	：CTexture
//	概要			：テクスチャクラス
//	制作者		：川原佑介
//	更新履歴		：
/***********************************************************************/
//===================================================================
//	インクルード
//===================================================================
#include"CTexture.h"
#include"commonfunc.h"
//===================================================================
//	コンストラクタ
//===================================================================
/***********************************************************************/
/*! @brief 
 * 
 *  @param[in,out] pszFilePath 
 *  @retval  
 */
/***********************************************************************/
CTexture::CTexture(const char* pszFilePath)
{
	setFilePath(pszFilePath);
}

//===================================================================
//	デストラクタ
//===================================================================
/***********************************************************************/
/*! @brief 
 * 
 *  @retval  
 */
/***********************************************************************/
CTexture::~CTexture()
{
	SAFE_RELEASE(_texture);
}

//===================================================================
//	メンバ関数定義
//===================================================================
/***********************************************************************/
/*! @brief 
 * 
 *  @param[in,out] pszFilePath 
 *  @retval void
 */
/***********************************************************************/
void CTexture::setFilePath(const char* pszFilePath)
{
	////////////////////////////
	//	変数宣言
	HRESULT hr;					//処理結果判定

	////////////////////////////
	//	初期処理
	_pszFilePath = pszFilePath;

	////////////////////////////
	//	テクスチャ作成
	hr = D3DXCreateTextureFromFileEx(
		D3DDEVICE,
		_pszFilePath,
		D3DX_DEFAULT_NONPOW2, 
		D3DX_DEFAULT_NONPOW2,
		D3DX_DEFAULT,
		0,
		D3DFMT_UNKNOWN,
		D3DPOOL_MANAGED,
		D3DX_DEFAULT,
		D3DX_DEFAULT,
		0, 
		&_srcInfo,
		NULL,
		&_texture
		);	

	////////////////////////////
	//	例外処理
#ifdef _DEBUG
	if(FAILED(hr))
	{
	}
#endif
}

//EOF